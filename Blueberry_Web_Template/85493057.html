<!--
title: BBWT3 - Setting Up a Local S3 Mock/Compatible Object Store
description: 
published: true
date: 2020-12-02T15:04:33.020Z
tags: 
editor: ckeditor
dateCreated: 2020-11-27T11:00:46.244Z
-->

<h1>Blueberry Group : BBWT3 - Setting Up a Local S3 Mock/Compatible Object Store&nbsp;</h1>
<p>Created by Jason Cozza on Sep 21, 2020</p>
<p>BBWT3 allows users to upload files, which are then stored in and retrieved from S3.</p>
<p>Storing credentials for this in the repository is insecure and should be avoided. Credentials should only be stored on or retrieved by the application server.</p>
<p>When testing S3 locally, you have the option to mock S3 or use an S3 compatible object store.</p>
<h2>Docker</h2>
<p>A docker image to mock S3 is available here:&nbsp;<a href="https://hub.docker.com/r/adobe/s3mock">https://hub.docker.com/r/adobe/s3mock</a></p>
<h3>Running</h3>
<figure class="table">
  <table>
    <tbody>
      <tr>
        <td><code>docker run --rm -p 9090:9090 -p 9191:9191 adobe/s3mock:2.1.8</code></td>
      </tr>
    </tbody>
  </table>
</figure>
<p>To have a list of buckets available on container launch, use:</p>
<figure class="table">
  <table>
    <tbody>
      <tr>
        <td><code>docker run --rm -p 9090:9090 -p 9191:9191 adobe/s3mock:2.1.8 --initialBuckets=bucket1,bucket2</code></td>
      </tr>
    </tbody>
  </table>
</figure>
<p>Adjust the endpoint URL in your client or SDK to point to <a href="http://127.0.0.1:9090">http://127.0.0.1:9090</a></p>
<h2>Minio</h2>
<p>Download minio from the&nbsp;<a href="https://min.io/download">official website</a>.</p>
<p>Alternatively, run with docker:</p>
<figure class="table">
  <table>
    <tbody>
      <tr>
        <td><code>docker run --name minio --rm -p 9000:9000 minio/minio:latest</code></td>
      </tr>
    </tbody>
  </table>
</figure>
<p>Create initial bucket named bbwt3:</p>
<figure class="table">
  <table>
    <tbody>
      <tr>
        <td><code>docker exec -it minio /usr/bin/mc mb minio/bbwt3 --region eu-west-1 --ignore-existing</code></td>
      </tr>
    </tbody>
  </table>
</figure>
<p>Adjust the endpoint URL in your client or SDK to point to <a href="http://127.0.0.1:9000">http://127.0.0.1:9000</a></p>
<h3>Running</h3>
<p>Consult the&nbsp;<a href="https://docs.min.io/">quickstart guide</a>.</p>
<p>Document generated by Confluence on Nov 27, 2020 10:56</p>
<p><a href="http://www.atlassian.com/">Atlassian</a></p>
