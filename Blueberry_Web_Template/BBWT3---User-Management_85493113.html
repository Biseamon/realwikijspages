<!DOCTYPE html>
<html>
    <head>
        <title>Blueberry Group : BBWT3 - User Management</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">Blueberry Group</a></span>
                            </li>
                                                    <li>
                                <span><a href="Blueberry-Web-Template_85492520.html">Blueberry Web Template</a></span>
                            </li>
                                                    <li>
                                <span><a href="BBWT3_85492530.html">BBWT3</a></span>
                            </li>
                                                    <li>
                                <span><a href="BBWT3---Features_85493080.html">BBWT3 - Features</a></span>
                            </li>
                                                    <li>
                                <span><a href="BBWT3---User-and-Roles-Management_85493111.html">BBWT3 - User and Roles Management</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Blueberry Group : BBWT3 - User Management
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> Jason Cozza</span> on Sep 21, 2020
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <h1 id="BBWT3-UserManagement-Overview">Overview</h1><p>BBWT3 supports comprehensive user management, with support for Users, Groups and Roles/Permissions.</p><p>In practice, the detail of exactly how users are managed depends strongly on the customer application:</p><ul><li>Some applications have a flat user structure – there’s one set of users, perhaps organised into Groups.</li><li>Other applications are designed to allow end customers to login and manage their own organisation within the system.</li><li>In the most complex case, we have a multi-level hierarchical structure of e.g. sales regions or customer offices/sites.</li></ul><p> The core functionality of BBWT3 supports Users, Groups and Companies, but we usually spend time customising and rearranging this code to support exact customer requirements.</p><h1 id="BBWT3-UserManagement-ProposedStructure">Proposed Structure</h1><ul><li>SuperAdmin - Global Administrator, can see everything.</li><li>SystemAdmin - Customer / System Admin – can see everything except SuperAdmin Role and SuperAdmin Company (based on level).</li><li>Company Admin - Administrator for a company / organisation – can <strong>only</strong> see own company users / groups.</li></ul><h2 style="margin-left: 30.0px;" id="BBWT3-UserManagement-Hard-CodedRules">Hard-Coded Rules</h2><ul><li style="list-style-type: none;background-image: none;"><ul><li>SuperAdmin can see and edit <strong>all</strong> user, company records in the system.</li><li>SystemAdmin can see all user, company records, but cannot edit SuperAdmin user or SuperCompany company.</li></ul></li></ul><h2 style="margin-left: 30.0px;" id="BBWT3-UserManagement-ChangestotheUI">Changes to the UI</h2><ol><li style="list-style-type: none;background-image: none;"><ol><li>SuperAdmin can:<ol><li>Users screen includes company name in the grid.</li><li>Create, edit and delete Global Admins users.</li></ol></li><li>System Admin:<ol><li>Users screen includes company name in the grid.</li><li>The ability to create, edit and delete a company (except SuperCompany).</li><li>The ability to create, edit delete users (except SuperAdmin).<br/><br/></li></ol></li><li>CompanyAdmin:<ol><li>Users screen does not include company name in the grid.</li><li>Users screen only shows users from same company.</li></ol></li><li>All Accounts:<ol><li>Users screen should include a list of comma-separated groups.</li><li>On user details screen, we have list of groups that this user is in.</li></ol></li></ol></li></ol><h1 id="BBWT3-UserManagement-UserRegistration">User Registration</h1><h2 style="margin-left: 30.0px;" id="BBWT3-UserManagement-Prerequisites">Prerequisites</h2><p class="cye-lm-tag" style="margin-left: 30.0px;">User accounts have a status associated with them;</p><ul class="cye-lm-tag"><li style="list-style-type: none;background-image: none;"><ul class="cye-lm-tag"><li class="cye-lm-tag">Invited: An invitation email has been sent but the user has not taken required action yet.</li><li class="cye-lm-tag">Unapproved: A system administrator must approve the account before it can be used.</li><li>Unverified: The account has been approved by an administrator approved but the email address has not yet been verified.</li><li class="cye-lm-tag">Active: The account setup process is complete and it is ready to use.</li><li class="cye-lm-tag">Suspended: The account has been temporarily suspended (by an administrator) and cannot be used.</li><li>Deleted: The account has been flagged as deleted, and cannot be used.</li></ul></li></ul><h2 style="margin-left: 30.0px;" id="BBWT3-UserManagement-InvitationOnly/Closed">Invitation Only / Closed</h2><p class="cye-lm-tag" style="margin-left: 30.0px;">Users with the BBWT3 CompanyAdmin, SystemAdmin, SuperAdmin roles have the ability to generate new user accounts. The first stage is to generate an invitation.</p><p class="cye-lm-tag" style="margin-left: 30.0px;">The &quot;+Add&quot; button on the /app/users screen triggers a pop-up window.</p><p class="cye-lm-tag" style="margin-left: 30.0px;">This requires the following information, via a form:</p><ul><li style="list-style-type: none;background-image: none;"><ul><li>Email address.</li><li>First name.</li><li>Last name.</li><li>Company.</li><li>Role.</li></ul></li></ul><p class="cye-lm-tag" style="margin-left: 30.0px;">For the &quot;Company&quot; field, SystemAdmin and SuperAdmin user are presented with a drop-down list of companies as defined in BBWT3. CompanyAdmin users will not be able to chose the company, accounts created by this role will have the company pre-populated with the same company as CompanyAdmin.</p><p class="cye-lm-tag" style="margin-left: 30.0px;">Roles will be presented in a drop-down list:</p><ul class="cye-lm-tag"><li style="list-style-type: none;background-image: none;"><ul class="cye-lm-tag"><li class="cye-lm-tag">For SuperAdmin, choices: SuperAdmin, SystemAdmin, CompanyAdmin.</li><li>For SystemAdmin, choices: SystemAdmin, CompanyAdmin.</li><li class="cye-lm-tag">For CompanyAdmin, choices: CompanyAdmin.</li></ul></li></ul><p class="cye-lm-tag" style="margin-left: 30.0px;">The invited user must now use the supplied URL from BBWT3 to confirm their email address. A token is used to validate the user since they do not have a password yet.</p><p class="cye-lm-tag" style="margin-left: 30.0px;">After clicking on the email link, the user will be redirected to BBWT3 and promoted to enter in a password and confirm it. The account status will then be set to &quot;active&quot;.</p><h2 style="margin-left: 30.0px;" id="BBWT3-UserManagement-Open">Open</h2><p style="margin-left: 30.0px;">A prospective user visits the registration form in the BBWT3 application, they complete the following mandatory fields:</p><ul><li style="list-style-type: none;background-image: none;"><ul><li>First Name.</li><li>Last Name.</li><li>Company.</li><li>Password.</li><li>Confirm password.</li></ul></li></ul><p style="margin-left: 30.0px;">The “Register” button will only be enabled if the field validation rules pass.<br/><br/>Actions on &quot;Register&quot;:</p><ul><li>Check that the user does not already exist (by email address).</li><li>Register user in database with “unverified” status.</li></ul><p style="margin-left: 30.0px;">Following registration a confirmation message that can be altered in the Technical Admin section will be displayed, e.g:<br/><br/><em>“You will receive a confirmation email once your application has been approved.”</em></p><p style="margin-left: 30.0px;">After which the user will go for approval. There are two options for this stage:</p><ul><li style="list-style-type: none;background-image: none;"><ul><li>A user with a minimum of CompanyAdmin role can manually change the status of the user account (from “unapproved” to “unverified”), this will be handled via the BBWT3 user management feature.</li><li>The BBWT3 system automatically approves users and moves the process on to the next stage. This effectively bypasses the approval stage.<br/><br/></li></ul></li></ul><p style="margin-left: 30.0px;">Actions, on approval:</p><ul><li style="list-style-type: none;background-image: none;"><ul><li>Set an expiry duration for the access token.</li><li>Send a confirmation email to the specified address, containing access URL.</li><li>Send an email to users with the System Administrator role notifying them of pending account request.</li></ul></li><li style="list-style-type: none;background-image: none;">The invited user must now use the supplied URL to confirm their email address using a secure hash. The URL will open the main homepage of the BBWT3 site logging them in automatically. After which the URL will expire and on further login the user must enter in username and password. The user's status will now be set to &quot;active&quot;.</li></ul><p><br/></p><h1 id="BBWT3-UserManagement-UserManagementOptions">User Management Options</h1><ol><li>Resend invitation: Re-sends the invitation email and resets the expiry timer,</li><li>Resend email confirmation: Re-sends the email address confirmation email and resets the expiry timer.</li><li>Approve: Sets the account status to “active”. Triggers approval confirmation email.</li><li>Password reset: Triggers the reset password process (detailed under self-service task)</li><li>Suspend account: Changes account status to “suspended”, disallows login. A failure message must be displayed when the user cannot log in &quot;Your account has been suspended&quot;.</li><li>Unsuspend account: Changes status back to “active”</li><li>Delete account: Changes account status to “deleted”. (We retain the record)</li><li>Change email: Allows the registered email address to be changed and then confirmed.</li></ol><p><br/></p><h1 id="BBWT3-UserManagement-TestCase">Test Case</h1><ol><li>Admin receives an email from a user asking to be removed from their database.</li><li>Admin can search either by name or email to identify user.</li><li>Admin can easily and quickly delete user from database in compliance with GDPR's right to erasure.</li></ol><h1 class="western" id="BBWT3-UserManagement-ForTesters">For Testers</h1><ol><li>From the BBWT3 menu, click on &quot;Operational Admin&quot;.</li><li>From the drop down menu click on &quot;Users&quot;.</li><li>Using the search functionality on the &quot;Manage Users&quot; page locate the user of interest.<ul><li>To edit users details and permissions:<ol><li>Click on the pencil icon.</li><li>When you land on the page you will be under the header &quot;Basic details&quot;.</li><li>From here you can edit the users name, email address and photo. As well as the ability to send a reset password email, and impersonate them.</li><li>Under &quot;Roles&quot; you can edit what the user's permissions are.</li><li>Under &quot;Company details&quot; you can select the users company.</li><li>Click &quot;Save&quot; to save changes or &quot;Cancel&quot; to return to the &quot;Manage Users&quot; page without making changes.</li></ol></li><li>To delete a user:<ol><li>Click on the bin icon.</li><li>A confirmation window will pop up asking you to confirm deletion.</li><li>To delete click on &quot;Yes&quot; to cancel click &quot;No&quot;.</li></ol></li></ul></li></ol><h1 class="western" id="BBWT3-UserManagement-ForProjectManagers">For Project Managers</h1><ul><li>Ability to edit a users information in the event of error.</li><li>Ability to impersonate this user with their permissions, in the event of needing to troubleshoot an issue with your web application.</li><li>Ability to check and change users permissions and company.</li><li>Delete users on demand in compliance with GDPR's right to erasure.</li><li>To be implemented: Closed invitation needs to capture the following information from user; email address, first name, last name, company and role (31-01-19).</li></ul><h1 class="western" id="BBWT3-UserManagement-ForMarketing">For Marketing</h1><ul><li>You are able to search through your users by name or by email address.</li><li>Be able to manage your users information and permissions quickly and easily.</li><li>Delete users easily and on demand in compliance with GDPR's right to erasure.</li></ul>
                    </div>

                    
                 
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Nov 27, 2020 10:56</p>
                    <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
