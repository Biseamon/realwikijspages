<!DOCTYPE html>
<html>
    <head>
        <title>Blueberry Group : BBWT3 - Configuration</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">Blueberry Group</a></span>
                            </li>
                                                    <li>
                                <span><a href="Blueberry-Web-Template_85492520.html">Blueberry Web Template</a></span>
                            </li>
                                                    <li>
                                <span><a href="BBWT3_85492530.html">BBWT3</a></span>
                            </li>
                                                    <li>
                                <span><a href="BBWT3---Development-Environment_85493024.html">BBWT3 - Development Environment</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Blueberry Group : BBWT3 - Configuration
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> Jason Cozza</span>, last modified on Sep 21, 2020
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p><style type='text/css'>/*<![CDATA[*/
div.rbtoc1606474575238 {padding: 0px;}
div.rbtoc1606474575238 ul {list-style: disc;margin-left: 0px;}
div.rbtoc1606474575238 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='toc-macro rbtoc1606474575238'>
<ul class='toc-indentation'>
<li><a href='#BBWT3-Configuration-Overview'>Overview</a></li>
<li><a href='#BBWT3-Configuration-ConnectionStrings'>ConnectionStrings</a></li>
<li><a href='#BBWT3-Configuration-DatabaseConnectionSettings'>DatabaseConnectionSettings</a></li>
<li><a href='#BBWT3-Configuration-EmailSettings'>EmailSettings</a></li>
<li><a href='#BBWT3-Configuration-StorageSettings'>StorageSettings</a></li>
<li><a href='#BBWT3-Configuration-MembershipSettings'>MembershipSettings</a></li>
<li><a href='#BBWT3-Configuration-DBDocSettings'>DBDocSettings</a></li>
<li><a href='#BBWT3-Configuration-MenuSettings'>MenuSettings</a></li>
<li><a href='#BBWT3-Configuration-FooterMenuSettings'>FooterMenuSettings</a></li>
<li><a href='#BBWT3-Configuration-GitLabSettings'>GitLabSettings</a></li>
<li><a href='#BBWT3-Configuration-RecaptchaSettings'>RecaptchaSettings</a></li>
<li><a href='#BBWT3-Configuration-AwsSettings'>AwsSettings</a></li>
<li><a href='#BBWT3-Configuration-SupportSettings'>SupportSettings</a></li>
<li><a href='#BBWT3-Configuration-RaygunSettings'>RaygunSettings</a></li>
<li><a href='#BBWT3-Configuration-Serilog'>Serilog</a></li>
<li><a href='#BBWT3-Configuration-EnvironmentVariables'>Environment Variables</a></li>
</ul>
</div></p><h1 id="BBWT3-Configuration-Overview"><span>Overview</span></h1><p><span>This page details the different configuration keys that are available to use, along with a description and example for each.</span></p><p><span><br/></span></p><p><span>These settings can be specified in an <a class="external-link" href="https://gitlab.bbconsult.co.uk/blueberry/bbwt3/-/blob/develop/project/BBWT.Server/appsettings.json" rel="nofollow">appsettings.json</a> file or specified as their full path in an environment variable, e.g. DatabaseConnectionSettings:DatabaseType<strong> </strong>or DatabaseConnectionSettings__DatabaseType. For example, in bash we can set variables so:</span></p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><td class="confluenceTd"><p><code class="bash functions">export</code> <code class="bash plain">ENABLEGREYLOG=</code><code class="bash string">&quot;True&quot;</code><br/><code class="bash plain">dotnet run</code></p></td></tr></tbody></table></div><p><br/></p><p>Setting nested configuration keys:</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><td class="confluenceTd"><p><code class="bash functions">export</code> <code class="bash plain">DatabaseConnectionSettings__DatabaseType=</code><code class="bash string">&quot;MySql&quot;</code><br/><code class="bash plain">dotnet run</code></p></td></tr></tbody></table></div><p><br/></p><p>These are top-level keys:</p><div class="table-wrap"><table class="confluenceTable"><colgroup><col/><col/><col/><col/></colgroup><thead><tr><th class="confluenceTh"><p>Key</p></th><th class="confluenceTh"><p>Type</p></th><th class="confluenceTh"><p>Description</p></th><th class="confluenceTh"><p>Example Value</p></th></tr></thead><tbody><tr><td class="confluenceTd">ENABLEGREYLOG</td><td class="confluenceTd">Boolean</td><td class="confluenceTd">Whether to push logs to GrayLog.</td><td class="confluenceTd">true</td></tr><tr><td colspan="1" class="confluenceTd">ENABLE_HTTPS_REDIRECT</td><td colspan="1" class="confluenceTd">Boolean</td><td colspan="1" class="confluenceTd">Whether Kestrel performs HTTP to HTTPS redirects.</td><td colspan="1" class="confluenceTd">false</td></tr><tr><td colspan="1" class="confluenceTd">LOGENTRIES_KEY</td><td colspan="1" class="confluenceTd">String</td><td colspan="1" class="confluenceTd">LogEntries API key.</td><td colspan="1" class="confluenceTd">ABCDEF123456</td></tr></tbody></table></div><p><br/></p><p>Example:</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><td class="confluenceTd"><p><code class="js plain">{</code><br/><code class="js spaces">    </code><code class="js string">&quot;ENABLEGREYLOG&quot;</code><code class="js plain">: </code><code class="js keyword">false</code><code class="js plain">,</code><br/><code class="js spaces">    </code><code class="js string">&quot;ENABLE_HTTPS_REDIRECT&quot;</code><code class="js plain">: </code><code class="js keyword">false</code><code class="js plain">,</code><br/><code class="js spaces">    </code><code class="js string">&quot;LOGENTRIES_KEY&quot;</code><code class="js plain">: </code><code class="js string">&quot;ABCDEF123456&quot;</code>  <br/><code class="js plain">}</code></p></td></tr></tbody></table></div><h1 id="BBWT3-Configuration-ConnectionStrings">ConnectionStrings</h1><p>The keys set used by the database initialization code depends on the value of <strong>DatabaseConnectionSettings:DatabaseType</strong>.</p><p><br/></p><div class="table-wrap"><table class="confluenceTable"><colgroup><col/><col/><col/><col/></colgroup><thead><tr><th class="confluenceTh"><p>Key</p></th><th class="confluenceTh"><p>Type</p></th><th class="confluenceTh"><p>Description</p></th><th class="confluenceTh"><p>Example Value</p></th></tr></thead><tbody><tr><td class="confluenceTd">DefaultConnection</td><td class="confluenceTd">String</td><td class="confluenceTd">SQL Server connection string for application database.</td><td class="confluenceTd">Data Source=.;Initial Catalog=bbwt3;Integrated Security=true;</td></tr><tr><td class="confluenceTd">AuditConnection</td><td class="confluenceTd">String</td><td class="confluenceTd">SQL Server connection string for audit database.</td><td class="confluenceTd">Data Source=.;Initial Catalog=bbwt3_logs;Integrated Security=true;</td></tr><tr><td class="confluenceTd">HangfireConnection</td><td class="confluenceTd">String</td><td class="confluenceTd">SQL Server connection string for Hangfire database.</td><td class="confluenceTd">Data Source=.;Initial Catalog=bbwt3_hangfire;Integrated Security=true;</td></tr><tr><td colspan="1" class="confluenceTd">DemoConnection</td><td colspan="1" class="confluenceTd">String</td><td colspan="1" class="confluenceTd">SQL Server connection string for Demo database.</td><td colspan="1" class="confluenceTd">Data Source=.;Initial Catalog=bbwt3_demo;Integrated Security=true;</td></tr><tr><td class="confluenceTd">MySqlConnection</td><td class="confluenceTd">String</td><td class="confluenceTd">MySQL connection string for application database.</td><td class="confluenceTd">server=localhost;port=3306;database=bbwt3;Uid=root;Pwd=<code class="csharp string">P@ssword1</code></td></tr><tr><td class="confluenceTd">AuditMySqlConnection</td><td class="confluenceTd">String</td><td class="confluenceTd">MySQL connection string for audit database.</td><td class="confluenceTd">server=localhost;port=3306;database=bbwt3_logs;Uid=root;Pwd=<code class="csharp string">P@ssword1</code></td></tr><tr><td colspan="1" class="confluenceTd">HangfireMySqlConnection</td><td colspan="1" class="confluenceTd">String</td><td colspan="1" class="confluenceTd">MySQL connection string for Hangfire database.</td><td colspan="1" class="confluenceTd">server=localhost;port=3306;database=bbwt3_hangfire;Uid=root;Pwd=<code class="csharp string">P@ssword1</code></td></tr><tr><td colspan="1" class="confluenceTd">DemoMySqlConnection</td><td colspan="1" class="confluenceTd">String</td><td colspan="1" class="confluenceTd">MySQL connection string for Demo database.</td><td colspan="1" class="confluenceTd">server=localhost;port=3306;database=bbwt3_demo;Uid=root;Pwd=<code class="csharp string">P@ssword1</code></td></tr></tbody></table></div><p>See <strong>DatabaseConnectionSettings </strong>section below for examples.</p><h1 id="BBWT3-Configuration-DatabaseConnectionSettings">DatabaseConnectionSettings</h1><div class="table-wrap"><table class="confluenceTable"><colgroup><col/><col/><col/><col/></colgroup><thead><tr><th class="confluenceTh"><p>Key</p></th><th class="confluenceTh"><p>Type</p></th><th colspan="1" class="confluenceTh"><p>Description</p></th><th colspan="1" class="confluenceTh"><p>Example Value</p></th></tr></thead><tbody><tr><td class="confluenceTd">DatabaseType</td><td class="confluenceTd">String</td><td colspan="1" class="confluenceTd">The database type to use. Either 'MySql' or 'MsSql'</td><td colspan="1" class="confluenceTd">MySql</td></tr><tr><td class="confluenceTd">MaxRetryCount</td><td class="confluenceTd">Integer</td><td colspan="1" class="confluenceTd">aximum number of retry attempts to connect</td><td colspan="1" class="confluenceTd">10</td></tr><tr><td colspan="1" class="confluenceTd">MaxRetryDelay</td><td colspan="1" class="confluenceTd">Integer</td><td colspan="1" class="confluenceTd">aximum delay between retries</td><td colspan="1" class="confluenceTd">30</td></tr></tbody></table></div><p><br/></p><p>Examples:<br/><strong>MySQL Example</strong></p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><td class="confluenceTd"><p><code class="js plain">{</code><br/><code class="js spaces">  </code><code class="js string">&quot;DatabaseConnectionSettings&quot;</code><code class="js plain">: {</code><br/><code class="js spaces">    </code><code class="js string">&quot;DatabaseType&quot;</code><code class="js plain">: </code><code class="js string">&quot;MySql&quot;</code><code class="js plain">,</code><br/><code class="js spaces">    </code><code class="js string">&quot;MaxRetryCount&quot;</code><code class="js plain">: 10,</code><br/><code class="js spaces">    </code><code class="js string">&quot;MaxRetryDelay&quot;</code><code class="js plain">: 30</code><br/><code class="js spaces">  </code><code class="js plain">},</code><br/><code class="js spaces">  </code><code class="js string">&quot;ConnectionStrings&quot;</code><code class="js plain">: {</code><br/><code class="js spaces">    </code><code class="js string">&quot;MySqlConnection&quot;</code><code class="js plain">: </code><code class="js string">&quot;server=127.0.0.1;port=5001;database=app;Uid=root;Pwd=P@ssword1&quot;</code><code class="js plain">,</code><br/><code class="js spaces">    </code><code class="js string">&quot;DemoMySqlConnection&quot;</code><code class="js plain">: </code><code class="js string">&quot;server=127.0.0.1;port=5001;database=demo;Uid=root;Pwd=P@ssword1&quot;</code><code class="js plain">,</code><br/><code class="js spaces">    </code><code class="js string">&quot;AuditMySqlConnection&quot;</code><code class="js plain">: </code><code class="js string">&quot;server=127.0.0.1;port=5001;database=audit;Uid=root;Pwd=P@ssword1&quot;</code><code class="js plain">,</code><br/><code class="js spaces">    </code><code class="js string">&quot;HangfireMySqlConnection&quot;</code><code class="js plain">: </code><code class="js string">&quot;server=127.0.0.1;port=5001;database=hangfire;Uid=root;Pwd=P@ssword1&quot;</code><br/><code class="js spaces">  </code><code class="js plain">}</code><br/><code class="js plain">}</code></p></td></tr></tbody></table></div><p><br/><br/><strong>MSSQL Example</strong></p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><td class="confluenceTd"><p><code class="js plain">{</code><br/><code class="js spaces">  </code><code class="js string">&quot;DatabaseConnectionSettings&quot;</code><code class="js plain">: {</code><br/><code class="js spaces">    </code><code class="js string">&quot;DatabaseType&quot;</code><code class="js plain">: </code><code class="js string">&quot;MsSql&quot;</code><code class="js plain">,</code><br/><code class="js spaces">    </code><code class="js string">&quot;MaxRetryCount&quot;</code><code class="js plain">: 10,</code><br/><code class="js spaces">    </code><code class="js string">&quot;MaxRetryDelay&quot;</code><code class="js plain">: 30</code><br/><code class="js spaces">  </code><code class="js plain">},</code><br/><code class="js spaces">  </code><code class="js string">&quot;ConnectionStrings&quot;</code><code class="js plain">: {</code><br/><code class="js spaces">    </code><code class="js string">&quot;DefaultConnection&quot;</code><code class="js plain">: </code><code class="js string">&quot;Data Source=localhost,1433;Initial Catalog=app;Persist Security Info=True;User ID=sa; Password=P@ssword1; Encrypt=False&quot;</code><code class="js plain">,</code><br/><code class="js spaces">    </code><code class="js string">&quot;DemoConnection&quot;</code><code class="js plain">: </code><code class="js string">&quot;Data Source=localhost,1433;Initial Catalog=demo;Integrated Security=true;User ID=sa; Password=P@ssword1; Encrypt=False&quot;</code><code class="js plain">,</code><br/><code class="js spaces">    </code><code class="js string">&quot;AuditConnection&quot;</code><code class="js plain">: </code><code class="js string">&quot;Data Source=localhost,1433;Initial Catalog=audit;Persist Security Info=True;User ID=sa; Password=P@ssword1; Encrypt=False&quot;</code><code class="js plain">,</code><br/><code class="js spaces">    </code><code class="js string">&quot;HangfireConnection&quot;</code><code class="js plain">: </code><code class="js string">&quot;Data Source=localhost,1433;Initial Catalog=hangfire;Persist Security Info=True;User ID=sa; Password=P@ssword1; Encrypt=False&quot;</code><br/><code class="js spaces">  </code><code class="js plain">}</code><br/><code class="js plain">}</code></p></td></tr></tbody></table></div><h1 id="BBWT3-Configuration-EmailSettings">EmailSettings</h1><p>Use TLS (SSL) and either port 465 or 587 when using AWS SES.</p><p>In general, try to avoid sending unencrypted email. On AWS, traffic over port 25 is throttled to prevent abuse.</p><div class="table-wrap"><table class="confluenceTable"><colgroup><col/><col/><col/><col/></colgroup><thead><tr><th class="confluenceTh"><p>Key</p></th><th class="highlight-grey confluenceTh" data-highlight-colour="grey"><p>Type</p></th><th class="highlight-grey confluenceTh" colspan="1" data-highlight-colour="grey"><p>Description</p></th><th class="confluenceTh"><p>Example Value</p></th></tr></thead><tbody><tr><td class="confluenceTd">SMTP</td><td class="confluenceTd">String</td><td colspan="1" class="confluenceTd">Email server hostname.</td><td class="confluenceTd"><p><a class="external-link" href="http://smtp.example.com" rel="nofollow">smtp.example.com</a></p></td></tr><tr><td class="confluenceTd">UserName</td><td class="confluenceTd">String</td><td colspan="1" class="confluenceTd">Username, if required.</td><td class="confluenceTd">user</td></tr><tr><td class="confluenceTd">Password</td><td class="confluenceTd">String</td><td colspan="1" class="confluenceTd">Password, if required.</td><td class="confluenceTd">password</td></tr><tr><td class="confluenceTd">Port</td><td class="confluenceTd">Integer</td><td colspan="1" class="confluenceTd">Email server port.</td><td class="confluenceTd">465</td></tr><tr><td class="confluenceTd">EnableSsl</td><td class="confluenceTd">Boolean</td><td colspan="1" class="confluenceTd">Whether to use TLS when connecting to the email server.</td><td class="confluenceTd">True</td></tr><tr><td colspan="1" class="confluenceTd">FromAddress</td><td colspan="1" class="confluenceTd">String</td><td colspan="1" class="confluenceTd">From address when sending email.</td><td colspan="1" class="confluenceTd"><a class="external-link" href="mailto:noreply@app.example.com" rel="nofollow">noreply@app.example.com</a></td></tr><tr><td colspan="1" class="confluenceTd">AdminAddress</td><td colspan="1" class="confluenceTd">String</td><td colspan="1" class="confluenceTd">Administrator's email address.</td><td colspan="1" class="confluenceTd"><a class="external-link" href="mailto:admin@app.example.com" rel="nofollow">admin@app.example.com</a></td></tr><tr><td colspan="1" class="confluenceTd">TestEmailAddress</td><td colspan="1" class="confluenceTd">String</td><td colspan="1" class="confluenceTd">Email address to use in test mode.</td><td colspan="1" class="confluenceTd"><a class="external-link" href="mailto:test-address@app.example.com" rel="nofollow">test-address@app.example.com</a></td></tr><tr><td colspan="1" class="confluenceTd">UseDefaultCredentials</td><td colspan="1" class="confluenceTd">Boolean</td><td colspan="1" class="confluenceTd">Whether to use the default email credentials.</td><td colspan="1" class="confluenceTd">False</td></tr><tr><td colspan="1" class="confluenceTd">UseTestCredentials</td><td colspan="1" class="confluenceTd">Boolean</td><td colspan="1" class="confluenceTd">Whether to use the test email credentials.</td><td colspan="1" class="confluenceTd">False</td></tr></tbody></table></div><p><br/></p><p>Example:</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><td class="confluenceTd"><p><code class="js plain">{</code><br/><code class="js spaces">    </code><code class="js string">&quot;EmailSettings&quot;</code><code class="js plain">: {</code><br/><code class="js spaces">        </code><code class="js string">&quot;SMTP&quot;</code><code class="js plain">: </code><code class="js string">&quot;<a class="external-link" href="http://smtp.example.com" rel="nofollow">smtp.example.com</a>&quot;</code><code class="js plain">,</code><br/><code class="js spaces">        </code><code class="js string">&quot;UserName&quot;</code><code class="js plain">: </code><code class="js string">&quot;username&quot;</code><code class="js plain">,</code><br/><code class="js spaces">        </code><code class="js string">&quot;Password&quot;</code><code class="js plain">: </code><code class="js string">&quot;password&quot;</code><code class="js plain">,</code><br/><code class="js spaces">        </code><code class="js string">&quot;Port&quot;</code><code class="js plain">: 465,</code><br/><code class="js spaces">        </code><code class="js string">&quot;EnableSsl&quot;</code><code class="js plain">: </code><code class="js keyword">true</code><code class="js plain">,</code><br/><code class="js spaces">        </code><code class="js string">&quot;FromAddress&quot;</code><code class="js plain">: </code><code class="js string">&quot;noreply@<a class="external-link" href="http://app.example.com" rel="nofollow">app.example.com</a>&quot;</code><code class="js plain">,</code><br/><code class="js spaces">        </code><code class="js string">&quot;AdminAddress&quot;</code><code class="js plain">: </code><code class="js string">&quot;admin@<a class="external-link" href="http://app.example.com" rel="nofollow">app.example.com</a>&quot;</code><code class="js plain">,</code><br/><code class="js spaces">        </code><code class="js string">&quot;TestEmailAddress&quot;</code><code class="js plain">: </code><code class="js string">&quot;test@<a class="external-link" href="http://app.example.com" rel="nofollow">app.example.com</a>&quot;</code><code class="js plain">,</code><br/><code class="js spaces">        </code><code class="js string">&quot;UseDefaultCredentials&quot;</code><code class="js plain">: </code><code class="js keyword">false</code><code class="js plain">,</code><br/><code class="js spaces">        </code><code class="js string">&quot;UseTestCredentials&quot;</code><code class="js plain">: </code><code class="js keyword">false</code><br/><code class="js spaces">    </code><code class="js plain">}</code><br/><code class="js plain">}</code></p></td></tr></tbody></table></div><h1 id="BBWT3-Configuration-StorageSettings">StorageSettings</h1><p>File storage provider settings. </p><div class="table-wrap"><table class="confluenceTable"><colgroup><col/><col/><col/><col/></colgroup><thead><tr><th class="confluenceTh"><p>Key</p></th><th class="highlight-grey confluenceTh" data-highlight-colour="grey"><p>Type</p></th><th class="highlight-grey confluenceTh" colspan="1" data-highlight-colour="grey"><p>Description</p></th><th class="confluenceTh"><p>Example Value</p></th></tr></thead><tbody><tr><td class="confluenceTd">ProviderName</td><td class="confluenceTd">String</td><td colspan="1" class="confluenceTd">Provider that used for files and configuration storing (AWS/Azure/DiskSpace)</td><td class="confluenceTd">AWS</td></tr></tbody></table></div><p><br/></p><p>Use 'DiskSpace' storage provider for a <em>local deployment</em> only, for development and testing purposes.</p><p>Example:</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><td class="confluenceTd"><p><code class="js plain">{</code><br/><code class="js spaces">    </code><code class="js string">&quot;StorageSettings&quot;</code><code class="js plain">: {</code><br/><code class="js spaces">        </code><code class="js string">&quot;ProviderName&quot;</code><code class="js plain">: </code><code class="js string">&quot;AWS&quot;</code><br/><code class="js spaces">    </code><code class="js plain">}</code><br/><code class="js plain">}</code></p></td></tr></tbody></table></div><h1 id="BBWT3-Configuration-MembershipSettings">MembershipSettings</h1><p>Settings of the Core Membership module. </p><div class="table-wrap"><table class="confluenceTable"><colgroup><col/><col/><col/><col/></colgroup><thead><tr><th class="confluenceTh"><p>Key</p></th><th class="highlight-grey confluenceTh" data-highlight-colour="grey"><p>Type</p></th><th class="highlight-grey confluenceTh" colspan="1" data-highlight-colour="grey"><p>Description</p></th><th class="confluenceTh"><p>Example Value</p></th></tr></thead><tbody><tr><td class="confluenceTd">RolesFilePath</td><td class="confluenceTd">String</td><td colspan="1" class="confluenceTd">Path to roles.json which contains BBWT roles and permissions</td><td class="confluenceTd">/data/roles/roles.json</td></tr></tbody></table></div><p><br/>Example:</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><td class="confluenceTd"><p><code class="js plain">{</code><br/><code class="js spaces">    </code><code class="js string">&quot;MembershipSettings&quot;</code><code class="js plain">: {</code><br/><code class="js spaces">        </code><code class="js string">&quot;RolesFilePath&quot;</code><code class="js plain">: </code><code class="js string">&quot;/data/roles/roles.json&quot;</code><br/><code class="js spaces">    </code><code class="js plain">}</code><br/><code class="js plain">}</code></p></td></tr></tbody></table></div><h1 id="BBWT3-Configuration-DBDocSettings"><br/>DBDocSettings</h1><p>Settings related to the DB Documenter.</p><div class="table-wrap"><table class="confluenceTable"><colgroup><col/><col/><col/><col/></colgroup><thead><tr><th class="confluenceTh"><p>Key</p></th><th class="confluenceTh"><p>Type</p></th><th class="confluenceTh"><p>Description</p></th><th class="confluenceTh"><p>Example Value</p></th></tr></thead><tbody><tr><td class="confluenceTd">FilePath</td><td class="confluenceTd">String</td><td class="confluenceTd">Path to dbdoc.json.</td><td class="confluenceTd">/data/dbdoc/dbdoc.json</td></tr></tbody></table></div><p>Example:</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><td class="confluenceTd"><p><code class="js plain">{</code><br/><code class="js spaces">    </code><code class="js string">&quot;DBDocSettings&quot;</code><code class="js plain">: {</code><br/><code class="js spaces">        </code><code class="js string">&quot;FilePath&quot;</code><code class="js plain">: </code><code class="js string">&quot;/data/dbdoc/dbdoc.json&quot;</code><br/><code class="js spaces">    </code><code class="js plain">}</code><br/><code class="js plain">}</code></p></td></tr></tbody></table></div><h1 id="BBWT3-Configuration-MenuSettings"><span>MenuSettings</span></h1><p>The main menu settings.</p><div class="table-wrap"><table class="confluenceTable"><colgroup><col/><col/><col/><col/></colgroup><thead><tr><th class="confluenceTh"><p>Key</p></th><th class="confluenceTh"><p>Type</p></th><th class="confluenceTh"><p>Description</p></th><th class="confluenceTh"><p>Example Value</p></th></tr></thead><tbody><tr><td class="confluenceTd">Path</td><td class="confluenceTd">String</td><td class="confluenceTd">Path to main-menu.json.</td><td class="confluenceTd">/data/menu/main-menu.json</td></tr></tbody></table></div><p>Example:</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><td class="confluenceTd"><p><code class="js plain">{</code><br/><code class="js spaces">    </code><code class="js string">&quot;MenuSettings&quot;</code><code class="js plain">: {</code><br/><code class="js spaces">        </code><code class="js string">&quot;Path&quot;</code><code class="js plain">: </code><code class="js string">&quot;/data/menu/main-menu.json&quot;</code><br/><code class="js spaces">    </code><code class="js plain">}</code><br/><code class="js plain">}</code></p></td></tr></tbody></table></div><h1 id="BBWT3-Configuration-FooterMenuSettings"><span>FooterMenuSettings</span></h1><p>The footer menu settings.</p><div class="table-wrap"><table class="confluenceTable"><colgroup><col/><col/><col/><col/></colgroup><thead><tr><th class="confluenceTh"><p>Key</p></th><th class="confluenceTh"><p>Type</p></th><th class="confluenceTh"><p>Description</p></th><th class="confluenceTh"><p>Example Value</p></th></tr></thead><tbody><tr><td class="confluenceTd">Path</td><td class="confluenceTd">String</td><td class="confluenceTd">Path to footer-menu.json.</td><td class="confluenceTd">/data/menu/footer-menu.json</td></tr></tbody></table></div><p>Example:</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><td class="confluenceTd"><p><code class="js plain">{</code><br/><code class="js spaces">    </code><code class="js string">&quot;FooterMenuSettings&quot;</code><code class="js plain">: {</code><br/><code class="js spaces">        </code><code class="js string">&quot;Path&quot;</code><code class="js plain">: </code><code class="js string">&quot;/data/menu/footer-menu.json&quot;</code><br/><code class="js spaces">    </code><code class="js plain">}</code><br/><code class="js plain">}</code></p></td></tr></tbody></table></div><h1 id="BBWT3-Configuration-GitLabSettings"><span>GitLabSettings</span></h1><p>Settings for the GitLab module to interact with Gitlab via AWS lambda.</p><div class="table-wrap"><table class="confluenceTable"><colgroup><col/><col/><col/><col/></colgroup><thead><tr><th class="confluenceTh"><p>Key</p></th><th class="confluenceTh"><p>Type</p></th><th class="confluenceTh"><p>Description</p></th><th class="confluenceTh"><p>Example Value</p></th></tr></thead><tbody><tr><td class="confluenceTd">ProjectId</td><td class="confluenceTd">String</td><td class="confluenceTd">GitLab project path to commit to.</td><td class="confluenceTd">namespace/project</td></tr><tr><td colspan="1" class="confluenceTd">AwsApiUrl</td><td colspan="1" class="confluenceTd">String</td><td colspan="1" class="confluenceTd">AWS API Gateway endpoint for bbwt3 GitLab commit service.</td><td colspan="1" class="confluenceTd"><span class="nolink"><a class="external-link" href="https://gateway-id.execute-api.eu-west-1.amazonaws.com/beta/gitpush" rel="nofollow">https://gateway-id.execute-api.eu-west-1.amazonaws.com/beta/gitpush</a></span></td></tr><tr><td colspan="1" class="confluenceTd">AwsApiToken</td><td colspan="1" class="confluenceTd">String</td><td colspan="1" class="confluenceTd">GitLab AWS API Token</td><td colspan="1" class="confluenceTd"><pre>ABCDEF123456</pre></td></tr><tr><td colspan="1" class="confluenceTd">Branch</td><td colspan="1" class="confluenceTd">String</td><td colspan="1" class="confluenceTd">Branch to commit to via bbwt3 GitLab commit service.</td><td colspan="1" class="confluenceTd">Development</td></tr></tbody></table></div><p>Example:</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><td class="confluenceTd"><p><code class="js plain">{</code><br/><code class="js spaces">    </code><code class="js string">&quot;GitLabSettings&quot;</code><code class="js plain">: {</code><br/><code class="js spaces">        </code><code class="js string">&quot;ProjectId&quot;</code><code class="js plain">: </code><code class="js string">&quot;blueberry/bbwt3&quot;</code><code class="js plain">,</code><br/><code class="js spaces">        </code><code class="js string">&quot;AwsApiUrl&quot;</code><code class="js plain">: </code><code class="js string">&quot;<a class="external-link" href="https://90ebkemw8g.execute-api.eu-west-1.amazonaws.com/beta/gitpush" rel="nofollow">https://90ebkemw8g.execute-api.eu-west-1.amazonaws.com/beta/gitpush&quot;</a></code><code class="js plain">,</code><br/><code class="js spaces">        </code><code class="js string">&quot;AwsApiToken&quot;</code><code class="js plain">: </code><code class="js string">&quot;ABCDEF123456&quot;</code><code class="js plain">,</code><br/><code class="js spaces">        </code><code class="js string">&quot;Branch&quot;</code><code class="js plain">: </code><code class="js string">&quot;develop&quot;</code><br/><code class="js spaces">    </code><code class="js plain">}</code><br/><code class="js plain">}</code></p></td></tr></tbody></table></div><h1 id="BBWT3-Configuration-RecaptchaSettings"><span>RecaptchaSettings</span></h1><div class="table-wrap"><table class="confluenceTable"><colgroup><col/><col/><col/><col/></colgroup><thead><tr><th class="confluenceTh"><p>Key</p></th><th class="confluenceTh"><p>Type</p></th><th class="confluenceTh"><p>Description</p></th><th class="confluenceTh"><p>Example Value</p></th></tr></thead><tbody><tr><td colspan="1" class="confluenceTd">ApiLink</td><td colspan="1" class="confluenceTd">String</td><td colspan="1" class="confluenceTd">ReCAPTCHA API URL</td><td colspan="1" class="confluenceTd"><p><a class="external-link" href="https://www.google.com/recaptcha/api/siteverify" rel="nofollow">https://www.google.com/recaptcha/api/siteverify</a></p></td></tr><tr><td class="confluenceTd">SecretKey</td><td class="confluenceTd">String</td><td class="confluenceTd">ReCAPTCHA secret API key</td><td class="confluenceTd">ABCDEF123456</td></tr><tr><td colspan="1" class="confluenceTd">SiteKey</td><td colspan="1" class="confluenceTd">String</td><td colspan="1" class="confluenceTd">ReCAPTCHA site API key</td><td colspan="1" class="confluenceTd">ABCDEF123456</td></tr></tbody></table></div><h1 id="BBWT3-Configuration-AwsSettings"><span>AwsSettings</span></h1><div class="table-wrap"><table class="confluenceTable"><colgroup><col/><col/><col/><col/></colgroup><thead><tr><th class="confluenceTh"><p>Key</p></th><th class="confluenceTh"><p>Type</p></th><th class="confluenceTh"><p>Description</p></th><th class="confluenceTh"><p>Example Value</p></th></tr></thead><tbody><tr><td class="confluenceTd">AwsRegion</td><td class="confluenceTd">String</td><td class="confluenceTd">AWS region</td><td class="confluenceTd">eu-west-1</td></tr><tr><td colspan="1" class="confluenceTd">AccessKeyID</td><td colspan="1" class="confluenceTd">String</td><td colspan="1" class="confluenceTd">AWS access key ID</td><td colspan="1" class="confluenceTd">ABCDEFGHI123456789</td></tr><tr><td colspan="1" class="confluenceTd">SecretAccessKey</td><td colspan="1" class="confluenceTd">String</td><td colspan="1" class="confluenceTd">AWS secret access key</td><td colspan="1" class="confluenceTd">ABCDEFGHI123456789</td></tr><tr><td colspan="1" class="confluenceTd">BucketName</td><td colspan="1" class="confluenceTd">String</td><td colspan="1" class="confluenceTd">AWS S3 Bucket for files storage</td><td colspan="1" class="confluenceTd">bucket.app.env</td></tr><tr><td colspan="1" class="confluenceTd">ParametersPath</td><td colspan="1" class="confluenceTd">String</td><td colspan="1" class="confluenceTd">Prefix that defines section related to the project</td><td colspan="1" class="confluenceTd">/bbwt3-linux-test</td></tr><tr><td colspan="1" class="confluenceTd">ParametersReloadingInterval</td><td colspan="1" class="confluenceTd">Number</td><td colspan="1" class="confluenceTd"><p>An interval in seconds for the configuration reloading period.</p><p>If not specified then the configuration won't be reloaded.</p></td><td colspan="1" class="confluenceTd">10</td></tr></tbody></table></div><p>Example:</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><td class="confluenceTd"><p><code class="js plain">{</code><br/><code class="js spaces">    </code><code class="js string">&quot;AwsSettings&quot;</code><code class="js plain">: {</code><br/><code class="js spaces">        </code><code class="js string">&quot;AwsRegion&quot;</code><code class="js plain">: </code><code class="js string">&quot;eu-west-1&quot;</code><code class="js plain">,</code><br/><code class="js spaces">        </code><code class="js string">&quot;AccessKeyID&quot;</code><code class="js plain">: </code><code class="js string">&quot;ABCDEFGHI123456789&quot;</code><code class="js plain">,</code><br/><code class="js spaces">        </code><code class="js string">&quot;SecretAccessKey&quot;</code><code class="js plain">: </code><code class="js string">&quot;ABCDEFGHI123456789&quot;</code><code class="js plain">,</code><br/><code class="js spaces">        </code><code class="js string">&quot;BucketName&quot;</code><code class="js plain">: </code><code class="js string">&quot;bucket.app.env&quot;</code><code class="js plain">,</code><br/><code class="js spaces">        </code><code class="js string">&quot;ParametersPath&quot;</code><code class="js plain">: </code><code class="js string">&quot;/bbwt3-linux-test&quot;</code><code class="js plain">,</code><br/><code class="js spaces">        </code><code class="js string">&quot;ParametersReloadingInterval&quot;</code><code class="js plain">: </code><code class="js string">&quot;10&quot;</code><br/><code class="js spaces">    </code><code class="js plain">}</code><br/><code class="js plain">}</code></p></td></tr></tbody></table></div><h1 id="BBWT3-Configuration-SupportSettings"><span>SupportSettings</span></h1><div class="table-wrap"><table class="confluenceTable"><colgroup><col/><col/><col/><col/></colgroup><thead><tr><th class="confluenceTh"><p>Key</p></th><th class="confluenceTh"><p>Type</p></th><th class="confluenceTh"><p>Description</p></th><th class="confluenceTh"><p>Example Value</p></th></tr></thead><tbody><tr><td class="confluenceTd">EmailAddress1</td><td class="confluenceTd">String</td><td class="confluenceTd">Email to send problem reports to.</td><td class="confluenceTd"><a class="external-link" href="mailto:user1@example.com" rel="nofollow">user1@example.com</a></td></tr><tr><td class="confluenceTd">EmailAddress2</td><td class="confluenceTd">String</td><td class="confluenceTd">Email to send problem reports to.</td><td class="confluenceTd"><a class="external-link" href="mailto:user2@example.com" rel="nofollow">user2@example.com</a></td></tr><tr><td class="confluenceTd">EmailAddress3</td><td class="confluenceTd">String</td><td class="confluenceTd">Email to send problem reports to.</td><td class="confluenceTd"><a class="external-link" href="mailto:user3@example.com" rel="nofollow">user3@example.com</a></td></tr><tr><td class="confluenceTd">EmailAddress4</td><td class="confluenceTd">String</td><td class="confluenceTd">Email to send problem reports to.</td><td class="confluenceTd"><a class="external-link" href="mailto:user4@example.com" rel="nofollow">user4@example.com</a></td></tr></tbody></table></div><p>Example:</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><td class="confluenceTd"><p><code class="js plain">{</code><br/><code class="js spaces">    </code><code class="js string">&quot;SupportSettings&quot;</code><code class="js plain">: {</code><br/><code class="js spaces">        </code><code class="js string">&quot;EmailAddress1&quot;</code><code class="js plain">: </code><code class="js string">&quot;user1@<a class="external-link" href="http://example.com" rel="nofollow">example.com</a>&quot;</code><code class="js plain">,</code><br/><code class="js spaces">        </code><code class="js string">&quot;EmailAddress2&quot;</code><code class="js plain">: </code><code class="js string">&quot;user2@<a class="external-link" href="http://example.com" rel="nofollow">example.com</a>&quot;</code><code class="js plain">,</code><br/><code class="js spaces">        </code><code class="js string">&quot;EmailAddress3&quot;</code><code class="js plain">: </code><code class="js string">&quot;user3@<a class="external-link" href="http://example.com" rel="nofollow">example.com</a>&quot;</code><code class="js plain">,</code><br/><code class="js spaces">        </code><code class="js string">&quot;EmailAddress4&quot;</code><code class="js plain">: </code><code class="js string">&quot;user4@<a class="external-link" href="http://example.com" rel="nofollow">example.com</a>&quot;</code><br/><code class="js spaces">    </code><code class="js plain">}</code><br/><code class="js plain">}</code></p></td></tr></tbody></table></div><p><br/></p><p>Third party packages also use the Asp.Net Core configuration interface and may have their configuration specified along with ours. For example, we use the following:</p><h1 id="BBWT3-Configuration-RaygunSettings">RaygunSettings</h1><p><br/>RayGun settings are normally set automatically as part of the deployment process and shouldn't be used during local development.</p><div class="table-wrap"><table class="confluenceTable"><colgroup><col/><col/><col/><col/></colgroup><thead><tr><th class="confluenceTh"><p>Key</p></th><th class="confluenceTh"><p>Type</p></th><th class="confluenceTh"><p>Description</p></th><th class="confluenceTh"><p>Example Value</p></th></tr></thead><tbody><tr><td class="confluenceTd">ApiKey</td><td class="confluenceTd">String</td><td class="confluenceTd">RayGun API key.</td><td class="confluenceTd">ABCDEF123456</td></tr><tr><td class="confluenceTd">ApplicationVersion</td><td class="confluenceTd">String</td><td class="confluenceTd">Application version to link to in RayGun.</td><td class="confluenceTd">a409c7ccb8971754a2a9ec01b72b1d8645825aff</td></tr></tbody></table></div><p>Example:</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><td class="confluenceTd"><p><code class="js plain">{</code><br/><code class="js spaces">    </code><code class="js string">&quot;RayGun&quot;</code><code class="js plain">: {</code><br/><code class="js spaces">        </code><code class="js string">&quot;ApiKey&quot;</code><code class="js plain">: </code><code class="js string">&quot;ABCDEF123456&quot;</code><code class="js plain">,</code><br/><code class="js spaces">        </code><code class="js string">&quot;ApplicationVersion&quot;</code><code class="js plain">: </code><code class="js string">&quot;a409c7ccb8971754a2a9ec01b72b1d8645825aff&quot;</code><br/><code class="js spaces">    </code><code class="js plain">}</code><br/><code class="js plain">}</code></p></td></tr></tbody></table></div><h1 id="BBWT3-Configuration-Serilog">Serilog</h1><p>For a full breakdown of Serilog configuration options, check the documentation <a class="external-link" href="https://github.com/serilog/serilog-settings-configuration" rel="nofollow">here</a> and <a class="external-link" href="https://github.com/serilog/serilog-aspnetcore" rel="nofollow">here</a>.</p><p>Remember to set the ProjectName property in your Serilog configuration to be able to distinguish logs within GrayLog. This can be set in code, or in the application configuration as in the example below.</p><p>An Example Configuration:</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><td class="confluenceTd"><p><code class="js plain">{</code><br/><code class="js spaces">    </code><code class="js string">&quot;Serilog&quot;</code><code class="js plain">: {</code><br/><code class="js spaces">        </code><code class="js string">&quot;MinimumLevel&quot;</code><code class="js plain">: {</code><br/><code class="js spaces">            </code><code class="js string">&quot;Default&quot;</code><code class="js plain">: </code><code class="js string">&quot;Debug&quot;</code><code class="js plain">,</code><br/><code class="js spaces">            </code><code class="js string">&quot;Override&quot;</code><code class="js plain">: {</code><br/><code class="js spaces">                </code><code class="js string">&quot;Microsoft&quot;</code><code class="js plain">: </code><code class="js string">&quot;Information&quot;</code><code class="js plain">,</code><br/><code class="js spaces">                </code><code class="js string">&quot;System&quot;</code><code class="js plain">: </code><code class="js string">&quot;Warning&quot;</code><br/><code class="js spaces">            </code><code class="js plain">}</code><br/><code class="js spaces">        </code><code class="js plain">},</code><br/><code class="js spaces">        </code><code class="js string">&quot;Using&quot;</code><code class="js plain">: [</code><br/><code class="js spaces">            </code><code class="js string">&quot;Serilog.Sinks.Console&quot;</code><br/><code class="js spaces">        </code><code class="js plain">],</code><br/><code class="js spaces">        </code><code class="js string">&quot;Enrich&quot;</code><code class="js plain">: [</code><br/><code class="js spaces">            </code><code class="js string">&quot;FromLogContext&quot;</code><code class="js plain">,</code><br/><code class="js spaces">            </code><code class="js string">&quot;WithDockerContainerID&quot;</code><br/><code class="js spaces">        </code><code class="js plain">],</code><br/><code class="js spaces">        </code><code class="js string">&quot;WriteTo&quot;</code><code class="js plain">: [</code><br/><code class="js spaces">            </code><code class="js string">&quot;Console&quot;</code><br/><code class="js spaces">        </code><code class="js plain">],</code><br/><code class="js spaces">        </code><code class="js string">&quot;Destructure&quot;</code><code class="js plain">: [</code><br/><code class="js spaces">            </code><code class="js plain">{</code><br/><code class="js spaces">                </code><code class="js string">&quot;Name&quot;</code><code class="js plain">: </code><code class="js string">&quot;UsingAttributes&quot;</code><code class="js plain">,</code><br/><code class="js spaces">                </code><code class="js string">&quot;Args&quot;</code><code class="js plain">: </code><code class="js string">&quot;&quot;</code><br/><code class="js spaces">            </code><code class="js plain">}</code><br/><code class="js spaces">        </code><code class="js plain">],</code><br/><code class="js spaces">        </code><code class="js string">&quot;Properties&quot;</code><code class="js plain">: {</code><br/><code class="js spaces">            </code><code class="js string">&quot;ProjectName&quot;</code><code class="js plain">: </code><code class="js string">&quot;BBWT3&quot;</code><br/><code class="js spaces">        </code><code class="js plain">}</code><br/><code class="js spaces">    </code><code class="js plain">}</code><br/><code class="js plain">}</code></p></td></tr></tbody></table></div><p><br/></p><p>When translating JSON arrays, you need to pay attention to the order and address by index. The above JSON example would translate to the following environment variables:</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><td class="confluenceTd"><p><code class="bash plain">Serilog__MinimumLevel__Default=</code><code class="bash string">&quot;Debug&quot;</code><br/><code class="bash plain">Serilog__MinimumLevel__Override__Microsoft=</code><code class="bash string">&quot;Information&quot;</code><br/><code class="bash plain">Serilog__MinimumLevel__Override__System=</code><code class="bash string">&quot;Warning&quot;</code><br/><code class="bash plain">Serilog__Using__0=</code><code class="bash string">&quot;Serilog.Sinks.Console&quot;</code><br/><code class="bash plain">Serilog__Enrich__0=</code><code class="bash string">&quot;FromLogContext&quot;</code><br/><code class="bash plain">Serilog__Enrich__1=</code><code class="bash string">&quot;WithDockerContainerID&quot;</code><br/><code class="bash plain">Serilog__WriteTo__0=</code><code class="bash string">&quot;Console&quot;</code><br/><code class="bash plain">Serilog__Destructure__0__Name=</code><code class="bash string">&quot;UsingAttributes&quot;</code><br/><code class="bash plain">Serilog__Destructure__0__Args=</code><code class="bash string">&quot;&quot;</code><br/><code class="bash plain">Serilog__Properties__ProjectName=</code><code class="bash string">&quot;BBWT3&quot;</code></p></td></tr></tbody></table></div><h1 id="BBWT3-Configuration-EnvironmentVariables">Environment Variables</h1><p>These configuration items can only be specified as environment variables.</p><ul><li>ASPNETCORE_ENVIRONMENT<br/><ul><li>Description: specifies the environment under which the application runs (defaults to &quot;Development&quot;).</li><li>Type: string.</li><li><p class="auto-cursor-target">Example:</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><td class="confluenceTd"><p><code class="bash functions">export</code> <code class="bash plain">ASPNETCORE_ENVIRONMENT=</code><code class="bash string">&quot;Production&quot;</code><br/><code class="bash plain">dotnet run</code></p></td></tr></tbody></table></div></li></ul></li></ul><ul><li>ASPNETCORE_URLS<ul><li>Description: comma-separated bindings for Kestrel to use.</li><li>Type: string.</li><li><p class="auto-cursor-target">Example:</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><td class="confluenceTd"><p><code class="csharp plain">export ASPNETCORE_URLS=</code><code class="csharp string">&quot;<a class="external-link" href="http://0.0.0.0/" rel="nofollow">http://0.0.0.0:80&quot;</a></code><br/><code class="csharp plain">dotnet run</code></p></td></tr></tbody></table></div></li></ul></li></ul>
                    </div>

                    
                 
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Nov 27, 2020 10:56</p>
                    <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
